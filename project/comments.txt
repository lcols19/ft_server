-----------
tue 28 July
------------

digest : hash of the manifest
image ID : hash of the local image JSON configuration
--> intermediate image
removes intermediate container(it's actually an image but it's written so) bc
an intermediate image is created after each step
we can remove cache when rebuilding with the --no-cache option
each time docker build is run, 2 new images are created and appearing when we run the docker image cmd : an image with the name specified and an image with debian
"not enabling php 7-3 fpm by default" should I change this ?
a2enmod proxy_fcgi setenvif
a2enconf php7-3fpm
--> running in intermediate container
why do I have apache2 when I've installed nginx ? 
know what a2enconf and a2enmod mean



----------
wed 29 July
-----------

docker container ls -a prefered since it's "newer"

docker builder build = docker build
docker image ls = docker images, the latter being an alias of the former one
docker image rm = docker rmi, rmi being the alias

docker system prune : removes unused data e.g. build cache, dangling images, stopped containers, unused networks
docker container ls -a also shows non-running containers i.e. created and exited ones

docker container rm is useful to either remove one by one or remove running containers, whereas docker container prune is useful to remove all non-running containers

docker container run = docker run, the latter being an alias for the former
docker container stop = docker stop : stopping a running container

container : removing, stopping, listing, running
image : removing, stopping, listing, building
system-wide : removing unused data

docker container ls = docker ps : listing (process status)
docker container exec = docker exec : running a command in a container
docker container exec -d : running in background and only printf container iD

status of a container : stopped, exited, running, created, dead, ...
exited : cannot restart >< stopped : can be restarted

to see url address : ip addr show eth0 | grep inet | awk '{print $2; }' | sed 's/\/.*$//'



-----------
thu 30 July
------------
A LEMP Stack doesn't include phpMyadmin by default. It has to be installed.
Mariadb is prefered over mysql since mysql isn't officially referenced on 
	debian buster repositories.
Why install -y and not install ?
MariaDB is an open-source fork/impletemntation of MySQL.
To check if nginx is running (and other services) : service --status-all
Wordpress has to be installed prior to installing phpMyadmin.
Docker-machine HAS to be used during this project just as it was working on mac
	computers.
Docker manages one container at a time whereas docker-compose manages multiple
	containers at the same time.
to use mariadb command: system mysql start puis mariadb

---------
Mon 3 Aug
----------
It's a good idea to always expose ports on dockerfile, then optionnaly publish 
	it back to the Docker host with -p so the outside world can connect to the service.


---------
Tue 4 Aug
----------
mysql has to be started before mysql cli and msql shell(called monitor here) can be used. 
Typing msql redirect to mariadb.
To access help on mariadb/mysql : \h or help

---------
Thu 6 Aug
----------
webdock.io's tutorial abotu ssl not to be followed since their paths aren't good
	and they don't show every step required.

---------
Fri Aug 7
----------
hostadvice's tutorial to ssl is bad since it lacks spaces in its ssl-params.conf
	file.

----------
Thu Oct 1st
------------
should do the ssl thing before the php configuration and db installation
	otherwise I cannot start nginx
I can't seem to make openssl work inside a shell script. maybe it will if it's
	in the dockerfile.
the issue comes from php-mysql package. i wonder if I have to have it.

----------
Sat Oct 3rd
-------------
check privileges on db with show grants for pma

----------
Sun Oct 4th
-------------
no need to run mysql_secure_installation.
to list all packages : apt list --installed.
mw1 works when editing it manually through command line.
The issue could be that I do a dhparam of 2048 instead of 4096. The issue lie
	definitely with ssl as when I add ssl next to 443 in the listen directive,
	I can no longer access the autoindex.
message codes : 200(success), 302(I set it up in my nginx conf), 404 (doesnt exist)
to see access logs : cat /var/log/nginx/access.log
to see error logs : cat /var/log/nginx/error.log
404 when favicon doesnt exist, should create it
date to see date of machine
Few useful docker commands : 
	docker cp ./my_website test:/etc/nginx/sites-available
	docker cp ./info.php test:/var/www/my_website
	docker container prune
	docker-machine start default
	eval $(docker-machine env default)
All my sources :
	https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mariadb-php-lemp-stack-on-debian-10
	https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-nginx-on-debian-10
	https://www.itzgeek.com/how-tos/linux/debian/how-to-install-phpmyadmin-with-nginx-on-debian-10.html
	https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lemp-nginx-mariadb-and-php-on-debian-10
	https://www.keycdn.com/support/nginx-directory-index

	https://phoenixnap.com/kb/how-to-install-phpmyadmin-on-debian-10

	https://github.com/matteoolefloch/ft_server/blob/master/src/start.sh
	https://www.digitalocean.com/community/questions/nginx-and-php-getting-error-404-with-scripts
	https://www.linuxbabe.com/debian/install-lemp-stack-debian-10-buster
	https://stackoverflow.com/questions/18402395/how-to-uncompress-a-tar-gz-in-another-directory
to get ip address : docker-machine ip
# Check if I don't have file to remove
# Copy files onto the container through docker copy
# Restart services eventually

-------
Oct 5th
--------
solved 404 error by creating /var/www/my_website and /var/www/my_website/html 
	in my script as well as commenting out the copy of info.php and 
	my_website.bak.
Have to add tmp dir otherwise I have error messages at the bottom of phpMyadmin
	webpage.
To remove all images : docker rmi -f $(docker images -a -q)
I don't know if my db works both in phpMyadmin and wordpress. supposedly it 
	isn't since a new wordpress post doesn't appear in the app_db database.
wordpress doesn't work only on 443. IDK why. that's probably because I didn't 
	have a server block listening on 443 in phpmyadmin.conf. now I can't access 
	it on 80 neither. It was bc the db name in wpconfig didnt match the db name of creation in shell script.